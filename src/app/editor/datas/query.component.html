<div class="container">
    <h1>Create new query</h1>
    <form (ngSubmit)="onSubmit()" #datasForm="ngForm">
      <div class="form-group">
        <label for="name">Name</label>
        <input type="text" class="form-control" id="name" [(ngModel)]="query.name" name="name" required>
      </div>
      <div class="form-group">
          <label>Data source </label>
          <select name="selectedSource" [(ngModel)]="query.source" class="form-control" id="exampleSelect1">
            <option *ngFor="let item of sources" [ngValue]="item">{{item}}</option>
          </select>
      </div>
      <div class="form-group">
          <label for="sql">SQL</label>
          <input type="text" class="form-control" id="sql" [(ngModel)]="query.sql" name="sql" required>
      </div>
      <div class="form-group">
          <label>Series</label>
          <div *ngFor="let param of query.parameters; let index = index" class="row">
              <input type='text' [name]="param.key" [(ngModel)]="query.parameters[index].key"/>
              <input type='text' [name]="param.value" [(ngModel)]="query.parameters[index].value"/>
          </div>
          <div class="col-xl-1" (click)="addSerie()">ajout serie</div>
      </div>

      <button type="submit" class="btn btn-success">Submit</button>

    </form>
</div>
